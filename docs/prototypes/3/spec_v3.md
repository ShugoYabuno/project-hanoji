# 試作3号機 (v3) 仕様書：多面体キーウェルと分割構造の導入

## 1. 概要 (Overview)
試作3号機（v3）は、v1/v2で得られた「角度（Tenting/Opening Angle）」の知見に加え、新たに**「深さ（Depth）」と「分割構造（Modularity）」**を取り入れる。
人間の手の解剖学的構造に寄り添う「多面体（Polyhedral）」形状を採用することで、製造難易度を抑えつつ、ハイエンドなエルゴノミクスキーボードに近いフィット感と入力精度を実現することを目的とする。

## 2. 開発背景と振り返り

### v1/v2 の課題
*   **v1 (Flat Tented)**: テンティングのみでハの字角がなく、手首の背屈（反り）と滑り落ちが発生。
*   **v2 (Monocoque Tented)**:
    *   **形状**: 一体成型のため、3Dプリント時のオーバーハング面が荒れ、製造時間が長大化。
    *   **親指**: 親指キーが他の指と同じ平面にあったため、CM関節への負担が残り、押しにくさがあった。
    *   **配置**: パームレストに対し、ボタン位置が手前すぎた（窮屈）。

### v3 での解決アプローチ
*   **多面体キーウェル**: 曲面を「平面の組み合わせ」で近似し、指の屈曲軌道に合わせる。
*   **親指の立体配置**: 親指ユニットを物理的に一段下げる（Vertical Offset）。
*   **3パーツ分割構造**: 「天板」「フレーム」「底面」を分けることで、プリント品質の安定化とメンテナンス性を確保。

---

## 3. コンセプト (Concept)

### "Polyhedral Key Well" (多面体キーウェル)
完全な曲面（Curved）ではなく、複数の平面を角度をつけて接合する設計。
*   **メリット**:
    *   3Dプリント時に平面が出しやすく、スイッチの座りが安定する（ガタつかない）。
    *   パラメータ調整（角度変更）が容易。

### "Negative Tilt & Integrated Rest"
*   パームレスト部を最も高くし、指先に向かって下がる（Negative Tilt）形状を採用。
*   手首をニュートラル（水平〜やや下向き）に保ち、腱の緊張を最小化する。

---

## 4. 詳細仕様 (Specifications)

### 4.1 ジオメトリ・パラメータ
解剖学的調査に基づき、以下の数値を採用する（v3確定値）。

| 項目 | 設定値 | 意図・根拠 |
| :--- | :--- | :--- |
| **テンティング角 (Tenting)** | **20°** | 前腕の回内緊張を取り除くスイートスポット。 |
| **ハの字角 (Opening Angle)** | **20° (片側)** | センターラインに対する片側の開き角度（両側合計 40°）。脇を少し開いた自然な姿勢に合わせる。 |
| **チルト角 (Negative Tilt)** | **-10°** | パームレスト面（水平基準）に対し、Ridgeから奥側の**ボタン配置面（アクションボタン・移動ボタン共に）**が下がる角度。手首の背屈を防ぐ。 |
| **親指オフセット (Thumb Z)** | **-6.0 mm** (基準面より) | 親指の対立運動に合わせ、他指より低く配置。 |
| **親指内転角 (Thumb Inward)** | **20°** | 親指の腹が自然にスイッチを捉える角度。 |

### 4.2 レイアウト寸法
*   **パームレスト深さ**: 豆状骨（Pisiform）のサポート位置からホームポジション（中指）まで **約90mm** を確保。
*   **ボタン配置**:
    *   v2より全体を **15mm 奥へ移動**。

### 4.3 ボタンレイアウト詳細 (Advanced Layout Strategy)
調査資料「指に優しいボタンレイアウトの設計ガイド」に基づき、各指の役割と可動域に合わせた配置を行う。

#### A. Column Stagger (縦方向オフセット)
中指の先端位置を基準(0mm)とし、指の長さに合わせて各列を縦方向にずらす。
*   **中指列**: ±0 mm (基準)
*   **人差し指列**: -4.0 mm
*   **薬指列**: -6.0 mm
*   **小指列**: **-15.0 mm** (約0.75キー分)
    *   *根拠*: 小指は中指より約20mm短いため、大胆に下げることで「届かない」ストレスを解消する。

#### B. Row Stagger (横方向オフセット)
*   **オフセット量**: **0mm (Ortholinear / 縦揃え)**
    *   *理由*: 一般的なキーボードの斜めズレ（Row Stagger）は、脇を締めた姿勢で指を斜めに動かすための補正である。本機は「ハの字（Opening Angle）」によって腕の進入角度を正対させているため、指は真っ直ぐ手前に屈曲する。したがって、ボタンも縦一列に揃えるのが解剖学的にもゲーム操作（スライド入力等）的にも最適解となる。
    *   *(参考: Alice配列キーボード等も、ハの字に開くことでキー配列自体は縦揃えに近い構成を採用している)*

#### C. Splay (放射状配置)
*   **小指列の角度**: 外側に **10° 〜 15°** 開く。
    *   *根拠*: 小指の自然な外転運動に合わせ、窮屈な内側へのねじ込みを防ぐ。

#### C. Zoning (ゾーニング戦略)
フィッツの法則に基づき、使用頻度と距離を最適化する。
*   **Primary Zone (半径50mm圏内)**:
    *   主要攻撃ボタン（弱・中・強パンチ/キック）を配置。
    *   指先（DIP関節）の屈伸だけで届く範囲に収める。
*   **Secondary Zone**:
    *   特殊アクション（パリィ、インパクト等）は、Primary Zoneから **外側へ10mm** 離して配置。
    *   *意図*: 誤入力を防ぐとともに、明確な「指の移動」を意識させる。

#### D. Ridge (折れ目) との距離定義
多面体構造における平面の境界線（Ridge）と、設計上の基準点（Reference Point）を以下のように定義する。

*   **パームレスト基準点 (Reference Point)**:
    *   **定義**: 筐体（パームレスト部）の **手前エッジ (Front Edge) から 30mm 奥** の地点。
    *   *意図*: ここに豆状骨（手首の小指側の骨）が乗ることを想定する。手前ギリギリに置くとエッジが当たって痛いため、余裕を持たせた位置を基準とする。

*   **Ridge Line (屈曲点)**:
    *   パームレスト基準点から **45mm** 前方（※手前エッジからは計75mm）。
    *   このラインを最高点とし、ここからボタン面（Negative Tilt面）へと切り替わる。
    *   *意図*: 手のひらの中央（中手骨）付近で面を折り、MP関節の可動域と指の巻き込み（Curl）をサポートする。

*   **Ridgeから各ボタン穴の中心 (Hole Center) までの距離**:
    *   ※設計・モデリングの基準とするため、すべて「ボタン穴の中心座標」までの距離とする。
    *   **中指**: **45mm**
        *   *(参考: φ24mmボタンの場合、指が触れる手前エッジまでは約33mm)*
    *   **人差し指**: **42mm**
    *   **薬指**: **42mm**
    *   **小指**: **30mm**
        *   *補足*: 小指はColumn Stagger（-15mm）と合わせて、物理的にもRidgeに近づけることで、短い指でも無理なく届くようにする。

#### E. Movement Buttons (左手・移動ボタン) のY軸定義
左手側の3ボタン（Left, Down, Right）は一段構成であるため、右手側との整合性を以下のように定義する。

*   **Y軸基準 (Row Alignment)**:
    *   右手側の **上段 (Punch列) と下段 (Kick列) の中間、かつ上段寄り** を基準とする。
    *   **具体的数値**: 上段ボタン（Punch列）の中心Y座標から **手前へ 10mm (-10mm)** の位置を、移動ボタン（中指・Down）のY座標基準とする。
    *   *理由*: ユーザーのホームポジション感覚（上段と下段の間）に一致させ、左右の手首位置を対称に保つため。
*   **各指のオフセット (Stagger)**:
    *   右手と同様のColumn Staggerを適用し、指の長さにフィットさせる。
    *   **薬指 (Left)**: 中指より **-6.0mm** (手前)
    *   **中指 (Down)**: 基準 (0mm) / Ridgeから45mm
    *   **人差し指 (Right)**: 中指より **-4.0mm** (手前)

### 4.4 構造設計 (Mechanical Design)
プリント方向と品質を最適化するため、以下の3パーツ構成とする。

1.  **Top Plate (天板)**
    *   スイッチをはめ込むメインパーツ。多面体形状。
    *   *プリント方向*: 立てて出力（積層痕を打鍵方向に対して垂直にし、滑らかにする）。
2.  **Main Frame (側面・パームレスト)**
    *   手首を支える土台。剛性を確保。
    *   *プリント方向*: 平置き。
3.  **Bottom Plate (底蓋)**
    *   メンテナンス用ハッチ。
    *   *プリント方向*: 平置き。

### 4.5 締結・固定仕様 (Assembly)
*   **ネジ穴径**: **φ3.2 mm** (M3ネジ用)
    *   *方式*: ヒートインサートナットを使用せず、ボルト＆ナット（貫通またはポケット）で固定する設計とする。3Dプリント品へのダイレクトタッピングは強度が不安なため避ける。
    *   *配置*: 応力が集中する「パームレスト境界」と「四隅」の計6箇所を固定推奨。

---

## 5. 検証項目 (Hypotheses to Validate)

1.  **親指オフセットの操作性**:
    *   -6mmの段差は、同時押し（スライド入力）を阻害しないか？
    *   ジャンプボタンへのアクセスは改善するか？
2.  **多面体のフィット感**:
    *   指の腹で捉える感覚は向上するか？
    *   エッジ（折れ目）が手に当たって痛くないか？（フィレット処理の要否）
3.  **分割構造の剛性**:
    *   激しい打鍵（台パン等）において、接合部の強度は十分か？
    *   音鳴り（共振）が発生しないか？

## 6. 次のステップ
1.  **CADモデリング**: Fusion 360にて多面体ブロックを作成し、パラメータを適用。
2.  **部分試作**: 親指ユニット周辺のみを切り出してプリントし、オフセット量を確認。
3.  **全体試作**: v3-alphaの出力と組み立て。
